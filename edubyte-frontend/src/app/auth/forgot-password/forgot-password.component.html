<!-- Contenedor principal que centra el contenido -->
<div class="container-wrapper">
  <div class="content-card">

    <!-- Encabezado con icono y títulos -->
    <div class="header">
      <div class="icon-container">
        <span class="material-symbols-outlined">mail</span>
      </div>
      <h1 class="title">¿Olvidaste tu contraseña?</h1>
      <p class="subtitle">
        Ingresa el correo electrónico asociado a tu cuenta y te enviaremos un enlace para restablecer tu contraseña.
      </p>
    </div>

    <!-- Contenedor del formulario -->
    <div class="form-container">
      <!-- 
        Formulario de Angular
        - [formGroup] enlaza al FormGroup en el .ts
        - (ngSubmit) llama al método onSubmit()
        - novalidate previene la validación HTML nativa
      -->
      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" novalidate>
        
        <!-- Campo de Email -->
        <div class="form-group">
          <label for="email" class="form-label">Correo electrónico</label>
          <input 
            type="email" 
            id="email" 
            name="email" 
            class="form-input"
            formControlName="email"
            placeholder="tu@correo.com"
            [class.is-invalid]="submitted && f['email'].errors"
          />
          
          <!-- Mensajes de Validación -->
          <div *ngIf="submitted && f['email'].errors" class="validation-feedback">
            <div *ngIf="f['email'].errors['required']">El correo electrónico es requerido.</div>
            <div *ngIf="f['email'].errors['email']">Por favor, ingresa un correo electrónico válido.</div>
          </div>
        </div>

        <!-- Mensajes de Éxito o Error de la API -->
        <div *ngIf="successMessage" class="alert alert-success">
          {{ successMessage }}
        </div>
        <div *ngIf="errorMessage" class="alert alert-danger">
          {{ errorMessage }}
        </div>

        <!-- Botón de Envío -->
        <div class="button-group">
          <button type="submit" class="submit-button">
            Enviar enlace de recuperación
          </button>
        </div>

      </form>
    </div>

    <!-- Enlace inferior para volver a Iniciar Sesión -->
    <p class="footer-link">
      <!-- Usamos routerLink para la navegación de Angular -->
      <a [routerLink]="['/login']">Volver a iniciar sesión</a>
    </p>

  </div>
</div>
